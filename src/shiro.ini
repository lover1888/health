[main]
authc.loginUrl = /login
 
ds = com.alibaba.druid.pool.DruidDataSource
ds.driverClassName = com.mysql.jdbc.Driver
ds.url = jdbc:mysql://218.244.0.10:3306/kanbing?useUnicode=true&characterEncoding=utf8&autoReconnect=true&failOverReadOnly=false
ds.username = root
ds.password = root
 
jdbcRealm = org.apache.shiro.realm.jdbc.JdbcRealm
jdbcRealm.dataSource = $ds
jdbcRealm.authenticationQuery = select password from tb_user where userName = ?
jdbcRealm.userRolesQuery = select r.roleName from tb_user u, tb_user_role ur, tb_role r where u.id = ur.userId and r.id = ur.roleId and u.userName = ?
jdbcRealm.permissionsQuery = select p.permissionName from tb_role r, tb_role_permission rp, permissions p where r.id = rp.roleId and p.id = rp.permissionId and r.roleName = ?
jdbcRealm.permissionsLookupEnabled = true
securityManager.realms = $jdbcRealm
 
[urls]
/ = anon
/question/** = authc